<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Bite a Knowledge</title>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
	<link rel="icon" href="cookie.svg">
<style>

</style>
</head>

<body class="bg-light">

<nav class="navbar navbar-expand-md navbar-dark bg-success px-5">
  <div class="container-fluid">
    <a class="navbar-brand fs-1" href="#"><i class="bi bi-puzzle-fill"></i> BK</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="btn btn-light btn-lg text-success" aria-current="page" href="https://japsiee.github.io/Japsdev/" target="_blank">JapsDev</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<section id="main">
	<div class="container py-3 px-5 d-flex flex-column justify-content-center">
		<h1 class="display-1 text-success fw-normal text-center">Bite a knowledge! - General Knowledge Topic</h1>
		<p class="lead fs-3 text-center">Improve your knowledge with some of our prepared questions</p>
		<button class="btn btn-success btn-lg" id="start">Start</button>
		<div class="alert alert-danger my-5">
			<h1 class="display-3"><strong>Take Note: </strong>By clicking the start button will immediately invoke the quiz to start</h1>
		</div>
	</div>
</section>

<section id="prepare" class="d-flex justify-content-center align-items-center d-none">
	<div class="container bg-light">
		<h1 class="display-3 text-center bg-success text-light fw-normal p-3">Difficulty: <span id="difficultyContainer">MEDIUM</span></h1>
		<h1 class="display-6 text-success">Question:</h1>
		<p class="display-6 text-dark px-5" id="question">Kissing someone for one minute burns about 2 calories.</p>
		<br>
		<h1 class="display-6 text-success">Choices:</h1>
		<div id="choices">
			<p class="display-6 fs-3 text-dark px-5">A. <span id="choice" data-target="a">TRUE</span></p>
			<p class="display-6 fs-3 text-dark px-5">B. <span id="choice" data-target="b">FALSE</span></p>
		</div>
		<div class="py-5">
			<button type="button" class="btn btn-success btn-lg" id="show">Show Answer</button>
			<button type="button" class="btn btn-success btn-lg float-right" id="nextQuestion">Next Question</button>
			<p class="display-5 text-dark py-5" id="answer"></p>
		</div>
	</div>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" type="text/javascript" charset="utf-8" async="" defer=""></script>
<script>

const start = document.querySelector('#start');
const prepare = document.querySelector('#prepare');
const questionContainer = document.querySelector('#question');
const answersContainer = document.querySelector('#choices');
const difficultyContainer = document.querySelector('#difficultyContainer');
const nextQuestion = document.querySelector('#nextQuestion');
const show = document.querySelector('#show');
const answer = document.querySelector('#answer');

const prepareQuestion = () => {
	start.addEventListener('click', () => {
		prepare.classList.remove('d-none');
		start.classList.add('d-none');
	})
	
	nextQuestion.addEventListener('click', () => {
		answer.innerHTML = '';
		prepareQuestion();
	});

	const fetchQuestion = async () => {
		const endPoint = 'https://opentdb.com/api.php?amount=1&category=9&type=boolean';
		const response = await fetch(endPoint);
		const data = response.json();
		return data;
	}

	fetchQuestion()

	.then(data => {
		const datum = data.results[0];

		const getQuestion = datum.question;
		const gethDifficulty = datum.difficulty.toUpperCase();
		const getAnswer = datum.correct_answer.toUpperCase();

		questionContainer.innerHTML = getQuestion;
		difficultyContainer.innerHTML = gethDifficulty;

		show.addEventListener('click', () => {
			answer.innerHTML = getAnswer;
		})

	})
	.catch(err => {
		console.error(err);
	})	
}

prepareQuestion();

</script>

</body>
</html>